<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEIC Îã®Ïñ¥ ÌÄ¥Ï¶à</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
    </style>
</head>
<body class="bg-gray-50">
<div id="app"></div>

<script type="module">
    // Quiz data from PDF
    const quizData = [
        {
            "question": "Two of the applicants were ( ) with a competitor.",
            "translation": "ÏßÄÏõêÏûê Ï§ë ÎëêÎ™ÖÏùÄ Í≤ΩÏüÅÏÇ¨ÏôÄ Í¥ÄÎ†®ÎêòÏñ¥ ÏûàÏóàÎã§.",
            "options": ["associated", "conditions", "employment", "lacked", "managerial"],
            "answer": "associated"
        },
        {
            "question": "The ( ) of employment are listed in the job opening notice.",
            "translation": "Í≥†Ïö© Ï°∞Í±¥Îì§ÏùÄ Ï±ÑÏö© Í≥µÍ≥†Î¨∏Ïóê Ïó¥Í±∞ÎêòÏñ¥ ÏûàÎã§.",
            "options": ["associated", "conditions", "employment", "lacked", "managerial"],
            "answer": "conditions"
        },
        {
            "question": "The company announced ( ) opportunities in personnel department.",
            "translation": "ÌöåÏÇ¨Îäî Ïù∏ÏÇ¨ Î∂ÄÏÑúÏóê Í≥†Ïö© Í∏∞ÌöåÍ∞Ä ÏûàÏùåÏùÑ Î∞úÌëúÌñàÎã§.",
            "options": ["associated", "conditions", "employment", "lacked", "managerial"],
            "answer": "employment"
        },
        {
            "question": "Carl ( ) the ability to get along well with his coworkers.",
            "translation": "CarlÏùÄ ÎèôÎ£åÎì§Í≥º Ïûò ÏßÄÎÇ¥Îäî Îä•Î†•Ïù¥ ÏóÜÏóàÎã§.",
            "options": ["associated", "conditions", "employment", "lacked", "managerial"],
            "answer": "lacked"
        },
        {
            "question": "Mike is seeking a ( ) position in the accounting field.",
            "translation": "MikeÎäî ÌöåÍ≥Ñ Î∂ÑÏïºÏóêÏÑú Í¥ÄÎ¶¨ÏßÅ ÏûêÎ¶¨Î•º Ï∞æÍ≥† ÏûàÎã§.",
            "options": ["associated", "conditions", "employment", "lacked", "managerial"],
            "answer": "managerial"
        },
        {
            "question": "Carmen is one of the most ( ) workers in the company.",
            "translation": "CarmenÏùÄ ÌöåÏÇ¨ÏóêÏÑú Í∞ÄÏû• ÏÑ±Ïã§Ìïú ÏßÅÏõêÎì§ Ï§ë Ìïú Î™ÖÏù¥Îã§.",
            "options": ["diligent", "familiar", "proficiency", "prospective", "appealed"],
            "answer": "diligent"
        },
        {
            "question": "Staff must review the handbook to become ( ) with it.",
            "translation": "ÏßÅÏõêÎì§ÏùÄ ÏùµÏàôÌï¥ÏßÄÎèÑÎ°ù ÏïàÎÇ¥ÏÑúÎ•º Î≥µÏäµÌï¥ÏïºÌïúÎã§.",
            "options": ["diligent", "familiar", "proficiency", "prospective", "appealed"],
            "answer": "familiar"
        },
        {
            "question": "Overseas workers need proof of ( ) in a second language.",
            "translation": "Ìï¥Ïô∏Í∑ºÎ°úÏûêÎì§ÏùÄ Ïô∏Íµ≠Ïñ¥ ÏàôÎã¨Ïóê Í¥ÄÌïú Ï¶ùÍ±∞ ÏûêÎ£åÍ∞Ä ÌïÑÏöîÌïòÎã§.",
            "options": ["diligent", "familiar", "proficiency", "prospective", "appealed"],
            "answer": "proficiency"
        },
        {
            "question": "( ) employees were asked to come in for a second interview.",
            "translation": "Ïû•ÎûòÏùò ÏßÅÏõêÎì§ÏùÄ 2Ï∞® Î©¥Ï†ëÏùÑ Î≥¥Îü¨ Ïò§ÎùºÍ≥† ÏöîÏ≤≠Î∞õÏïòÎã§.",
            "options": ["diligent", "familiar", "proficiency", "prospective", "appealed"],
            "answer": "prospective"
        },
        {
            "question": "The 10 percent pay increase ( ) to the staff.",
            "translation": "10ÌçºÏÑºÌä∏ ÏûÑÍ∏à Ïù∏ÏÉÅÏùÄ ÏßÅÏõêÎì§Ïùò Í¥ÄÏã¨ÏùÑ ÎÅåÏóàÎã§.",
            "options": ["diligent", "familiar", "proficiency", "prospective", "appealed"],
            "answer": "appealed"
        },
        {
            "question": "Most of the programmers ( ) in software design in college.",
            "translation": "ÎåÄÎ∂ÄÎ∂ÑÏùò ÌîÑÎ°úÍ∑∏ÎûòÎ®∏Îäî ÎåÄÌïôÏóêÏÑú ÏÜåÌîÑÌä∏Ïõ®Ïñ¥ ÎîîÏûêÏù∏ÏùÑ Ï†ÑÍ≥µÌñàÎã§.",
            "options": ["specialized", "apprehensive", "consultant", "entitled", "degree"],
            "answer": "specialized"
        },
        {
            "question": "Many people feel ( ) before an important job interview.",
            "translation": "ÎßéÏùÄ ÏÇ¨ÎûåÎì§ÏùÄ Ï§ëÏöîÌïú Î©¥Ï†ë Ï†ÑÏóê Í±±Ï†ïÌïúÎã§.",
            "options": ["specialized", "apprehensive", "consultant", "entitled", "degree"],
            "answer": "apprehensive"
        },
        {
            "question": "Emma currently works in London as an interior design ( ).",
            "translation": "EmmaÎäî ÌòÑÏû¨ Îü∞ÎçòÏóêÏÑú Ïù∏ÌÖåÎ¶¨Ïñ¥ ÎîîÏûêÏù∏ Í≥†Î¨∏ÏúºÎ°ú ÏùºÌïòÍ≥† ÏûàÎã§.",
            "options": ["specialized", "apprehensive", "consultant", "entitled", "degree"],
            "answer": "consultant"
        },
        {
            "question": "Executives are ( ) to additional benefits.",
            "translation": "ÏûÑÏõêÎì§ÏóêÍ≤åÎäî Ï∂îÍ∞Ä ÌòúÌÉùÏóê ÎåÄÌïú ÏûêÍ≤©Ïù¥ Ï£ºÏñ¥ÏßÑÎã§.",
            "options": ["specialized", "apprehensive", "consultant", "entitled", "degree"],
            "answer": "entitled"
        },
        {
            "question": "A bachelor's ( ) in engineering is a requirement for this position.",
            "translation": "Í≥µÌïô ÌïôÏÇ¨ ÌïôÏúÑÎäî Ïù¥ ÏßÅÏ±ÖÏùò ÌïÑÏöîÏ°∞Í±¥Ïù¥Îã§.",
            "options": ["specialized", "apprehensive", "consultant", "entitled", "degree"],
            "answer": "degree"
        },
        {
            "question": "Fifteen new employees were added to the ( ) last month.",
            "translation": "15Î™ÖÏùò Ïã†ÏûÖ ÏÇ¨ÏõêÏù¥ ÏßÄÎÇúÎã¨ ÏûÑÍ∏à ÎåÄÏû•Ïóê Ï∂îÍ∞ÄÎêòÏóàÎã§.",
            "options": ["payroll", "recruits", "certification", "occupation", "wages"],
            "answer": "payroll"
        },
        {
            "question": "The firm ( ) promising graduates on a yearly basis.",
            "translation": "Í∑∏ ÌöåÏÇ¨Îäî Ïû•ÎûòÍ∞Ä Ï¥âÎßùÎêòÎäî Ï°∏ÏóÖÏûêÎì§ÏùÑ Îß§ÎÖÑ Î™®ÏßëÌïúÎã§.",
            "options": ["payroll", "recruits", "certification", "occupation", "wages"],
            "answer": "recruits"
        },
        {
            "question": "Obtaining accounting ( ) takes approximately a year.",
            "translation": "ÌöåÍ≥Ñ ÏûêÍ≤©Ï¶ùÏùÑ Ï∑®ÎìùÌïòÎäî Îç∞Îäî ÎåÄÎûµ 1ÎÖÑÏù¥ Í±∏Î¶∞Îã§.",
            "options": ["payroll", "recruits", "certification", "occupation", "wages"],
            "answer": "certification"
        },
        {
            "question": "Journalism is an interesting and challenging ( ).",
            "translation": "Î≥¥ÎèÑÏßÅÏùÄ Ìù•ÎØ∏Î°úÏö∞Î©¥ÏÑúÎèÑ ÎèÑÏ†ÑÏ†ÅÏù∏ ÏßÅÏóÖÏù¥Îã§.",
            "options": ["payroll", "recruits", "certification", "occupation", "wages"],
            "answer": "occupation"
        },
        {
            "question": "Workers with formal education may earn higher ( ) than those without.",
            "translation": "Ï†ïÏãù ÍµêÏú°ÏùÑ Î∞õÏùÄ Í∑ºÎ°úÏûêÎì§ÏùÄ Í∑∏Î†áÏßÄ ÏïäÏùÄ ÏÇ¨ÎûåÎì§Î≥¥Îã§ Îçî ÎÜíÏùÄ ÏûÑÍ∏àÏùÑ Î∞õÏùÑ Ïàò ÏûàÎã§.",
            "options": ["payroll", "recruits", "certification", "occupation", "wages"],
            "answer": "wages"
        }
    ];

    class QuizApp {
        constructor() {
            this.currentQuestion = 0;
            this.userAnswers = new Array(quizData.length).fill(null);
            this.stage = 'quiz'; // 'quiz' or 'result'
            this.shuffledQuizData = quizData.map(q => ({
                ...q,
                shuffledOptions: this.shuffleArray([...q.options])
            }));

            this.render();
        }

        shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        selectAnswer(optionIndex) {
            // ÏÑûÏù∏ ÏòµÏÖòÏóêÏÑú Ïã§Ï†ú ÏÑ†ÌÉùÌïú ÎãµÏùÑ Ï†ÄÏû•
            this.userAnswers[this.currentQuestion] = this.shuffledQuizData[this.currentQuestion].shuffledOptions[optionIndex];
            this.render();
        }

        previousQuestion() {
            if (this.currentQuestion > 0) {
                this.currentQuestion--;
                this.render();
            }
        }

        nextQuestion() {
            if (this.currentQuestion < quizData.length - 1) {
                this.currentQuestion++;
                this.render();
            }
        }

        showGradingConfirm() {
            this.renderGradingModal();
        }

        grade() {
            this.stage = 'result';
            this.render();
        }

        getScore() {
            let correct = 0;
            quizData.forEach((q, i) => {
                if (this.userAnswers[i] === q.answer) {
                    correct++;
                }
            });
            return correct;
        }

        getWrongQuestions() {
            const wrong = [];
            quizData.forEach((q, i) => {
                if (this.userAnswers[i] !== q.answer) {
                    wrong.push({
                        question: q.question,
                        translation: q.translation,
                        userAnswer: this.userAnswers[i] || '(ÎãµÏïà ÏóÜÏùå)',
                        correctAnswer: q.answer,
                        index: i
                    });
                }
            });
            return wrong;
        }

        renderQuestion(q) {
            const answer = q.answer;
            const blankWidth = answer.length * 0.6 + 2; // Approximate width in rem
            return q.question.replace('( )', `<span class="inline-block mx-1" style="width: ${blankWidth}rem; border-bottom: 2px solid #333;">&nbsp;</span>`);
        }

        renderGradingModal() {
            const modalHTML = `
                    <div class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50">
                        <div class="bg-white rounded-lg p-6 max-w-sm mx-4">
                            <p class="text-lg text-center mb-4">Ï±ÑÏ†êÏùÑ ÌïòÏãúÍ≤†ÏäµÎãàÍπå?</p>
                            <div class="flex gap-3">
                                <button onclick="app.render()" class="flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400">Ï∑®ÏÜå</button>
                                <button onclick="app.grade()" class="flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">ÌôïÏù∏</button>
                            </div>
                        </div>
                    </div>
                `;
            document.getElementById('app').insertAdjacentHTML('beforeend', modalHTML);
        }

        render() {
            const app = document.getElementById('app');

            if (this.stage === 'quiz') {
                const q = this.shuffledQuizData[this.currentQuestion];
                const originalQ = quizData[this.currentQuestion];
                const isLastQuestion = this.currentQuestion === quizData.length - 1;
                const selectedAnswer = this.userAnswers[this.currentQuestion];

                app.innerHTML = `
                        <div class="min-h-screen p-4 pb-24">
                            <div class="max-w-2xl mx-auto">
                                <!-- Question Number -->
                <div class="text-center mb-4 text-gray-600">
                ${this.currentQuestion + 1} / ${quizData.length}
                </div>

                    <!-- Question Text -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <p class="text-lg leading-relaxed" style="font-size: x-large;">
                ${this.renderQuestion(originalQ)}
                </p>
                <p class="text-base leading-relaxed mt-3" style="font-size: large; color: #dc2626;">
                ${originalQ.translation}
                </p>
                </div>

                    <!-- Options -->
                <div class="grid grid-cols-2 gap-3 mb-6">
                ${q.shuffledOptions.map((option, index) => {
                const labels = ['‚ìê', '‚ìë', '‚ìí', '‚ìì', '‚ìî'];
                return `
                                        <button
                                            onclick="app.selectAnswer(${index})"
                                            class="px-4 py-3 rounded-lg border-2 transition-all text-left flex items-center
                                                ${selectedAnswer === option
                    ? 'border-blue-500 bg-blue-50 text-blue-700 font-semibold'
                    : 'border-gray-300 bg-white hover:border-blue-300 hover:bg-gray-50'}"
                                            style="overflow: hidden;">
                                            <span class="text-lg mr-2" style="font-size: x-large; flex-shrink: 0;">${labels[index]}</span>
                                            <span class="flex-1" style="font-size: x-large; word-break: break-word; overflow-wrap: anywhere;">${option}</span>
                                        </button>
                                    `}).join('')}
                </div>
                </div>

                    <!-- Navigation Buttons -->
                <div class="fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg p-4">
                <div class="max-w-2xl mx-auto flex gap-3">
                <button
                onclick="app.previousQuestion()"
                ${this.currentQuestion === 0 ? 'disabled' : ''}
                class="flex-1 px-6 py-3 rounded-lg font-semibold
                                            ${this.currentQuestion === 0
                                                ? 'bg-gray-200 text-gray-400 cursor-not-allowed'
                                                : 'bg-gray-300 text-gray-700 hover:bg-gray-400'}">
                Ïù¥Ï†Ñ
                </button>
                <button
                onclick="${isLastQuestion ? 'app.showGradingConfirm()' : 'app.nextQuestion()'}"
                class="flex-1 px-6 py-3 rounded-lg font-semibold
                                            ${isLastQuestion
                                                ? 'bg-red-500 text-white hover:bg-red-600'
                                                : 'bg-blue-500 text-white hover:bg-blue-600'}">
                ${isLastQuestion ? 'Ï±ÑÏ†êÌïòÍ∏∞' : 'Îã§Ïùå'}
                </button>
                </div>
                </div>
                </div>
                `;
                } else {
                    // Result stage
                    const score = this.getScore();
                    const wrongQuestions = this.getWrongQuestions();

                    app.innerHTML = `
                <div class="min-h-screen p-4">
                <div class="max-w-2xl mx-auto">
                    <!-- Score -->
                <div class="text-center mb-8 py-8 bg-white rounded-lg shadow-md">
                <h2 class="text-4xl font-bold text-gray-800">
                ${score} / ${quizData.length}
                </h2>
                <p class="text-gray-600 mt-2">Ï†ïÎãµ Í∞úÏàò</p>
                </div>

                    <!-- Wrong Questions -->
                ${wrongQuestions.length > 0 ? `
                                    <div class="bg-white rounded-lg shadow-md p-6">
                                        <h3 class="text-xl font-bold mb-4 text-gray-800">ÌãÄÎ¶∞ Î¨∏Ï†ú</h3>
                                        ${wrongQuestions.map(w => {
                    const blankWidth = w.correctAnswer.length * 0.6 + 2;
                    const questionWithBlank = w.question.replace('( )', `<span class="inline-block mx-1" style="width: ${blankWidth}rem; border-bottom: 2px solid #333;">&nbsp;</span>`);
                    return `
                                            <div class="mb-6 pb-6 border-b last:border-b-0">
                                                <p class="text-gray-700 mb-2 leading-relaxed" style="font-size: x-large;">
                                                    <span class="font-semibold text-blue-600 mr-2">${w.index + 1}.</span>${questionWithBlank}
                                                </p>
                                                <p class="text-base leading-relaxed mb-3" style="font-size: large; color: #dc2626;">
                                                    ${w.translation}
                                                </p>
                                                <div class="space-y-2" style="font-size: x-large;">
                                                    <p>
                                                        <span class="text-gray-600">ÏÑ†ÌÉùÌïú Îãµ:</span>
                                                        <span class="font-bold text-red-500 ml-2">${w.userAnswer}</span>
                                                    </p>
                                                    <p>
                                                        <span class="text-gray-600">Ï†ïÎãµ:</span>
                                                        <span class="font-bold text-green-500 ml-2">${w.correctAnswer}</span>
                                                    </p>
                                                </div>
                                            </div>
                                        `}).join('')}
                                    </div>
                                ` : `
                                    <div class="bg-white rounded-lg shadow-md p-8 text-center">
                                        <p class="text-2xl font-bold text-green-500">üéâ ÏôÑÎ≤ΩÌï©ÎãàÎã§!</p>
                                        <p class="text-gray-600 mt-2">Î™®Îì† Î¨∏Ï†úÎ•º ÎßûÌûàÏÖ®ÏäµÎãàÎã§.</p>
                                    </div>
                                `}

                    <!-- Restart Button -->
                <div class="mt-6">
                <button
                onclick="location.reload()"
                class="w-full px-6 py-3 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600">
                Îã§Ïãú ÌíÄÍ∏∞
                </button>
                </div>
                </div>
                </div>
                `;
                }
            }
        }

        // Initialize app
        const app = new QuizApp();
        window.app = app; // Make app globally accessible for onclick handlers
    </script>
</body>
</html>