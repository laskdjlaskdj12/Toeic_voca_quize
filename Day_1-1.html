<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEIC Îã®Ïñ¥ ÌÄ¥Ï¶à</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
    </style>
</head>
<body class="bg-gray-50">
<div id="app"></div>

<script type="module">
    // Quiz data from PDF
    const quizData = [
        {
            "question": "Fax your ( ) and cover letter to the above number.",
            "translation": "ÏúÑ Î≤àÌò∏Î°ú Ïù¥Î†•ÏÑúÏôÄ ÏûêÍ∏∞ÏÜåÍ∞úÏÑúÎ•º Ìå©Ïä§Î°ú Î≥¥ÎÇ¥Ï£ºÏÑ∏Ïöî.",
            "options": ["resume", "openings", "applicants", "requirement"],
            "answer": "resume"
        },
        {
            "question": "There are several job ( ) at the restaurant right now.",
            "translation": "ÌòÑÏû¨ Í∑∏ ÏãùÎãπÏóêÎäî ÏùºÏûêÎ¶¨Í∞Ä Î™á Í∞ú ÏûàÏñ¥Ïöî.",
            "options": ["resume", "openings", "applicants", "requirement"],
            "answer": "openings"
        },
        {
            "question": "( ) are required to submit a resume.",
            "translation": "ÏßÄÏõêÏûêÎì§ÏùÄ Ïù¥Î†•ÏÑúÎ•º Ï†úÏ∂úÌï¥Ïïº ÌïúÎã§.",
            "options": ["resume", "openings", "applicants", "requirement"],
            "answer": "applicants"
        },
        {
            "question": "A driver's license is a ( ) of this job.",
            "translation": "Ïö¥Ï†ÑÎ©¥ÌóàÏ¶ùÏùÄ Ïù¥ ÏßÅÏ¢ÖÏùò ÌïÑÏöîÏ°∞Í±¥Ïù¥Îã§.",
            "options": ["resume", "openings", "applicants", "requirement"],
            "answer": "requirement"
        },
        {
            "question": "Applicants must ( ) all the requirements for the job.",
            "translation": "ÏßÄÏõêÏûêÎì§ÏùÄ Í∑∏ ÏßÅÏ¢ÖÏóêÏÑú Î™®Îì† Ï°∞Í±¥ÏùÑ ÎßåÏ°±ÏãúÏºúÏïºÌïúÎã§.",
            "options": ["meet", "qualified", "candidates", "confidence"],
            "answer": "meet"
        },
        {
            "question": "People with master's degrees are ( ) for the research position.",
            "translation": "ÏÑùÏÇ¨ÌïôÏúÑÎ•º Í∞ÄÏßÑ ÏÇ¨ÎûåÎì§ÏùÄ Í∑∏ Ïó∞Íµ¨ÏßÅÏóê ÏûêÍ≤©Ïù¥ ÏûàÎã§.",
            "options": ["meet", "qualified", "candidates", "confidence"],
            "answer": "qualified"
        },
        {
            "question": "Five ( ) will be selected for final interviews.",
            "translation": "5Î™ÖÏùò ÌõÑÎ≥¥ÏûêÍ∞Ä ÏµúÏ¢ÖÎ©¥Ï†ëÏùÑ ÏúÑÌï¥ ÏÑ†Ï∂úÎê† Í≤ÉÏù¥Îã§.",
            "options": ["meet", "qualified", "candidates", "confidence"],
            "answer": "candidates"
        },
        {
            "question": "We have ( ) that she can handle the position.",
            "translation": "Ïö∞Î¶¨Îäî Í∑∏ÎÖÄÍ∞Ä Í∑∏ ÏßÅÏ±ÖÏùÑ ÏàòÌñâÌï† Ïàò ÏûàÎã§Í≥† ÌôïÏã†ÌïúÎã§.",
            "options": ["meet", "qualified", "candidates", "confidence"],
            "answer": "confidence"
        },
        {
            "question": "Mr. Monroe's experience makes him ( ) qualified for the job.",
            "translation": "Mr Monroe'sÏùò Í≤ΩÌóòÏù¥ Í∑∏Î•º Í∑∏ ÏßÅÏóÖÏóê Îß§Ïö∞ ÏûêÍ≤©Ïù¥ ÏûàÍ≤å ÌïúÎã§.",
            "options": ["highly", "professional", "interviews", "hire"],
            "answer": "highly"
        },
        {
            "question": "Jeff is known as a ( ) photographer.",
            "translation": "JeffÎäî Ï†ÑÎ¨∏ ÏÇ¨ÏßÑÍ∞ÄÎ°ú ÏïåÎ†§Ï†∏ ÏûàÎã§.",
            "options": ["highly", "professional", "interviews", "hire"],
            "answer": "professional"
        },
        {
            "question": "The ( ) are being held in meeting room three.",
            "translation": "Î©¥Ï†ëÏùÄ 3Î≤à ÌöåÏùòÏã§ÏóêÏÑú Ïù¥Î£®Ïñ¥ÏßÄÍ≥† ÏûàÎã§.",
            "options": ["highly", "professional", "interviews", "hire"],
            "answer": "interviews"
        },
        {
            "question": "The company expects to ( ) several new employees next month.",
            "translation": "ÌöåÏÇ¨Îäî Îã§Ïùå Îã¨Ïóê Ïã†ÏûÖÏÇ¨Ïõê Î™á Î™ÖÏùÑ Í≥†Ïö©Ìï† Í≥ÑÌöçÏù¥Îã§.",
            "options": ["highly", "professional", "interviews", "hire"],
            "answer": "hire"
        },
        {
            "question": "This company offers on-the-job ( ) for new staff.",
            "translation": "Ïù¥ ÌöåÏÇ¨Îäî Ïã†ÏûÖ ÏÇ¨ÏõêÎì§ÏùÑ ÏúÑÌïú ÌòÑÏû• ÍµêÏú°ÏùÑ Ï†úÍ≥µÌïúÎã§.",
            "options": ["training", "reference", "position", "positioned"],
            "answer": "training"
        },
        {
            "question": "Philip asked his previous employer to write a ( ) letter for him.",
            "translation": "PhilipÏùÄ Í∑∏Ïùò Ïù¥Ï†Ñ Í≥†Ïö©Ï£ºÏóêÍ≤å Ï∂îÏ≤úÏÑúÎ•º Ïç® Îã¨ÎùºÍ≥† Î∂ÄÌÉÅÌñàÎã§.",
            "options": ["training", "reference", "position", "positioned"],
            "answer": "reference"
        },
        {
            "question": "The ( ) position provides health care and other benefits.",
            "translation": "Í¥ëÍ≥†Îêú ÏùºÏûêÎ¶¨Îäî ÏùòÎ£å ÏÑúÎπÑÏä§ÏôÄ Îã§Î•∏ ÌòúÌÉùÏùÑ Ï†úÍ≥µÌïúÎã§.",
            "options": ["training", "reference", "position", "positioned"],
            "answer": "position"
        },
        {
            "question": "List all of your ( ) from previous jobs on your resume.",
            "translation": "Ïù¥Ï†Ñ ÏßÅÏû•ÏóêÏÑú Ïù¥Î£¨ Î™®Îì† ÏÑ±Ï∑® ÏÇ¨Ìï≠Îì§ÏùÑ Ïù¥Î†•ÏÑúÏóê Í∏∞Î°ùÌïòÏãúÏò§.",
            "options": ["achievements", "impressed", "excellent", "eligible"],
            "answer": "achievements"
        },
        {
            "question": "The CEO was ( ) by his assistant's organizing skills.",
            "translation": "Í∑∏ ÏµúÍ≥† Í≤ΩÏòÅÏûêÎäî ÎπÑÏÑúÏùò Ï†ïÎ¶¨ Îä•Î†•ÏùÑ Ïù∏ÏÉÅ ÍπäÍ≤å ÏÉùÍ∞ÅÌñàÎã§.",
            "options": ["achievements", "impressed", "excellent", "eligible"],
            "answer": "impressed"
        },
        {
            "question": "Because of her ( ) managerial skills, Erin was hired for the job.",
            "translation": "Í∑∏ÎÖÄÏùò ÌõåÎ•≠Ìïú Í¥ÄÎ¶¨ Îä•Î†• ÎïåÎ¨∏Ïóê, ErinÏùÄ Í∑∏ ÏùºÏûêÎ¶¨Ïóê Ï±ÑÏö©ÎêòÏóàÎã§.",
            "options": ["achievements", "impressed", "excellent", "eligible"],
            "answer": "excellent"
        },
        {
            "question": "The part-time workers are also ( ) for paid holidays.",
            "translation": "ÏãúÍ∞ÑÏ†ú Í∑ºÎ°úÏûêÎì§ÎèÑ Ïú†Í∏â Ìú¥Í∞ÄÎ•º Î∞õÏùÑ ÏûêÍ≤©Ïù¥ ÏûàÎã§.",
            "options": ["achievements", "impressed", "excellent", "eligible"],
            "answer": "eligible"
        },
        {
            "question": "Staff members wear uniforms so that they are easy for customers to ( ).",
            "translation": "ÏßÅÏõêÎì§ÏùÄ ÏÜêÎãòÎì§Ïù¥ ÏâΩÍ≤å ÏïåÏïÑÎ≥º Ïàò ÏûàÎèÑÎ°ù Ï†úÎ≥µÏùÑ ÏûÖÎäîÎã§.",
            "options": ["achievements", "impressed", "excellent", "eligible", "identify"],
            "answer": "identify"
        }
    ];

    class QuizApp {
        constructor() {
            this.currentQuestion = 0;
            this.userAnswers = new Array(quizData.length).fill(null);
            this.stage = 'quiz'; // 'quiz' or 'result'
            this.shuffledQuizData = quizData.map(q => ({
                ...q,
                shuffledOptions: this.shuffleArray([...q.options])
            }));

            this.render();
        }

        shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        selectAnswer(optionIndex) {
            // ÏÑûÏù∏ ÏòµÏÖòÏóêÏÑú Ïã§Ï†ú ÏÑ†ÌÉùÌïú ÎãµÏùÑ Ï†ÄÏû•
            this.userAnswers[this.currentQuestion] = this.shuffledQuizData[this.currentQuestion].shuffledOptions[optionIndex];
            this.render();
        }

        previousQuestion() {
            if (this.currentQuestion > 0) {
                this.currentQuestion--;
                this.render();
            }
        }

        nextQuestion() {
            if (this.currentQuestion < quizData.length - 1) {
                this.currentQuestion++;
                this.render();
            }
        }

        showGradingConfirm() {
            this.renderGradingModal();
        }

        grade() {
            this.stage = 'result';
            this.render();
        }

        getScore() {
            let correct = 0;
            quizData.forEach((q, i) => {
                if (this.userAnswers[i] === q.answer) {
                    correct++;
                }
            });
            return correct;
        }

        getWrongQuestions() {
            const wrong = [];
            quizData.forEach((q, i) => {
                if (this.userAnswers[i] !== q.answer) {
                    wrong.push({
                        question: q.question,
                        translation: q.translation,
                        userAnswer: this.userAnswers[i] || '(ÎãµÏïà ÏóÜÏùå)',
                        correctAnswer: q.answer,
                        index: i
                    });
                }
            });
            return wrong;
        }

        renderQuestion(q) {
            const answer = q.answer;
            const blankWidth = answer.length * 0.6 + 2; // Approximate width in rem
            return q.question.replace('( )', `<span class="inline-block mx-1" style="width: ${blankWidth}rem; border-bottom: 2px solid #333;">&nbsp;</span>`);
        }

        renderGradingModal() {
            const modalHTML = `
                    <div class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50">
                        <div class="bg-white rounded-lg p-6 max-w-sm mx-4">
                            <p class="text-lg text-center mb-4">Ï±ÑÏ†êÏùÑ ÌïòÏãúÍ≤†ÏäµÎãàÍπå?</p>
                            <div class="flex gap-3">
                                <button onclick="app.render()" class="flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400">Ï∑®ÏÜå</button>
                                <button onclick="app.grade()" class="flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">ÌôïÏù∏</button>
                            </div>
                        </div>
                    </div>
                `;
            document.getElementById('app').insertAdjacentHTML('beforeend', modalHTML);
        }

        render() {
            const app = document.getElementById('app');

            if (this.stage === 'quiz') {
                const q = this.shuffledQuizData[this.currentQuestion];
                const originalQ = quizData[this.currentQuestion];
                const isLastQuestion = this.currentQuestion === quizData.length - 1;
                const selectedAnswer = this.userAnswers[this.currentQuestion];

                app.innerHTML = `
                        <div class="min-h-screen p-4 pb-24">
                            <div class="max-w-2xl mx-auto">
                                <!-- Question Number -->
                <div class="text-center mb-4 text-gray-600">
                ${this.currentQuestion + 1} / ${quizData.length}
                </div>

                    <!-- Question Text -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <p class="text-lg leading-relaxed" style="font-size: x-large;">
                ${this.renderQuestion(originalQ)}
                </p>
                <p class="text-base leading-relaxed mt-3" style="font-size: large; color: #dc2626;">
                ${originalQ.translation}
                </p>
                </div>

                    <!-- Options -->
                <div class="grid grid-cols-2 gap-3 mb-6">
                ${q.shuffledOptions.map((option, index) => {
                const labels = ['‚ìê', '‚ìë', '‚ìí', '‚ìì', '‚ìî'];
                return `
                                        <button
                                            onclick="app.selectAnswer(${index})"
                                            class="px-4 py-3 rounded-lg border-2 transition-all text-left flex items-center
                                                ${selectedAnswer === option
                    ? 'border-blue-500 bg-blue-50 text-blue-700 font-semibold'
                    : 'border-gray-300 bg-white hover:border-blue-300 hover:bg-gray-50'}"
                                            style="overflow: hidden;">
                                            <span class="text-lg mr-2" style="font-size: x-large; flex-shrink: 0;">${labels[index]}</span>
                                            <span class="flex-1" style="font-size: x-large; word-break: break-word; overflow-wrap: anywhere;">${option}</span>
                                        </button>
                                    `}).join('')}
                </div>
                </div>

                    <!-- Navigation Buttons -->
                <div class="fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg p-4">
                <div class="max-w-2xl mx-auto flex gap-3">
                <button
                onclick="app.previousQuestion()"
                ${this.currentQuestion === 0 ? 'disabled' : ''}
                class="flex-1 px-6 py-3 rounded-lg font-semibold
                                            ${this.currentQuestion === 0
                                                ? 'bg-gray-200 text-gray-400 cursor-not-allowed'
                                                : 'bg-gray-300 text-gray-700 hover:bg-gray-400'}">
                Ïù¥Ï†Ñ
                </button>
                <button
                onclick="${isLastQuestion ? 'app.showGradingConfirm()' : 'app.nextQuestion()'}"
                class="flex-1 px-6 py-3 rounded-lg font-semibold
                                            ${isLastQuestion
                                                ? 'bg-red-500 text-white hover:bg-red-600'
                                                : 'bg-blue-500 text-white hover:bg-blue-600'}">
                ${isLastQuestion ? 'Ï±ÑÏ†êÌïòÍ∏∞' : 'Îã§Ïùå'}
                </button>
                </div>
                </div>
                </div>
                `;
                } else {
                    // Result stage
                    const score = this.getScore();
                    const wrongQuestions = this.getWrongQuestions();

                    app.innerHTML = `
                <div class="min-h-screen p-4">
                <div class="max-w-2xl mx-auto">
                    <!-- Score -->
                <div class="text-center mb-8 py-8 bg-white rounded-lg shadow-md">
                <h2 class="text-4xl font-bold text-gray-800">
                ${score} / ${quizData.length}
                </h2>
                <p class="text-gray-600 mt-2">Ï†ïÎãµ Í∞úÏàò</p>
                </div>

                    <!-- Wrong Questions -->
                ${wrongQuestions.length > 0 ? `
                                    <div class="bg-white rounded-lg shadow-md p-6">
                                        <h3 class="text-xl font-bold mb-4 text-gray-800">ÌãÄÎ¶∞ Î¨∏Ï†ú</h3>
                                        ${wrongQuestions.map(w => {
                    const blankWidth = w.correctAnswer.length * 0.6 + 2;
                    const questionWithBlank = w.question.replace('( )', `<span class="inline-block mx-1" style="width: ${blankWidth}rem; border-bottom: 2px solid #333;">&nbsp;</span>`);
                    return `
                                            <div class="mb-6 pb-6 border-b last:border-b-0">
                                                <p class="text-gray-700 mb-2 leading-relaxed" style="font-size: x-large;">
                                                    <span class="font-semibold text-blue-600 mr-2">${w.index + 1}.</span>${questionWithBlank}
                                                </p>
                                                <p class="text-base leading-relaxed mb-3" style="font-size: large; color: #dc2626;">
                                                    ${w.translation}
                                                </p>
                                                <div class="space-y-2" style="font-size: x-large;">
                                                    <p>
                                                        <span class="text-gray-600">ÏÑ†ÌÉùÌïú Îãµ:</span>
                                                        <span class="font-bold text-red-500 ml-2">${w.userAnswer}</span>
                                                    </p>
                                                    <p>
                                                        <span class="text-gray-600">Ï†ïÎãµ:</span>
                                                        <span class="font-bold text-green-500 ml-2">${w.correctAnswer}</span>
                                                    </p>
                                                </div>
                                            </div>
                                        `}).join('')}
                                    </div>
                                ` : `
                                    <div class="bg-white rounded-lg shadow-md p-8 text-center">
                                        <p class="text-2xl font-bold text-green-500">üéâ ÏôÑÎ≤ΩÌï©ÎãàÎã§!</p>
                                        <p class="text-gray-600 mt-2">Î™®Îì† Î¨∏Ï†úÎ•º ÎßûÌûàÏÖ®ÏäµÎãàÎã§.</p>
                                    </div>
                                `}

                    <!-- Restart Button -->
                <div class="mt-6">
                <button
                onclick="location.reload()"
                class="w-full px-6 py-3 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600">
                Îã§Ïãú ÌíÄÍ∏∞
                </button>
                </div>
                </div>
                </div>
                `;
                }
            }
        }

        // Initialize app
        const app = new QuizApp();
        window.app = app; // Make app globally accessible for onclick handlers
    </script>
</body>
</html>